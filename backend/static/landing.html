<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>{{SITE_TITLE}} - Verification</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="{{SITE_DESCRIPTION}}" />
  <link rel="icon" href="{{SITE_ICON}}" type="image/png" />
  <link rel="apple-touch-icon" href="{{SITE_ICON}}" />
  <meta name="theme-color" content="#0f172a" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #e2e8f0;
    }

    .landing-container {
      width: 100%;
      max-width: 500px;
      padding: 2rem;
      margin: 0 auto;
    }

    .landing-card {
      background: rgba(30, 41, 59, 0.8);
      border: 1px solid rgba(148, 163, 184, 0.2);
      border-radius: 12px;
      padding: 2rem;
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .landing-header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .landing-logo {
      width: 64px;
      height: 64px;
      margin: 0 auto 1rem;
      display: block;
      border-radius: 8px;
    }

    .landing-title {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .landing-subtitle {
      font-size: 0.9rem;
      color: #cbd5e1;
      margin-bottom: 1rem;
    }

    .turnstile-container {
      display: flex;
      justify-content: center;
      margin: 2rem 0;
      min-height: 78px;
    }

    .loading-state {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 1rem;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      border: 3px solid rgba(148, 163, 184, 0.3);
      border-top-color: #64748b;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .loading-text {
      font-size: 0.9rem;
      color: #cbd5e1;
      text-align: center;
    }

    .verification-steps {
      margin: 2rem 0;
      padding: 1rem;
      background: rgba(15, 23, 42, 0.5);
      border-radius: 8px;
      border-left: 3px solid #3b82f6;
    }

    .step {
      font-size: 0.85rem;
      color: #cbd5e1;
      margin: 0.5rem 0;
      font-family: "Monaco", "Courier New", monospace;
    }

    .step-status {
      display: inline-block;
      width: 16px;
      height: 16px;
      margin-right: 0.5rem;
      text-align: center;
      line-height: 16px;
      font-size: 0.75rem;
      border-radius: 50%;
      background: rgba(148, 163, 184, 0.3);
      color: #cbd5e1;
    }

    .step-status.active {
      background: #3b82f6;
      color: white;
    }

    .step-status.done {
      background: #10b981;
      color: white;
    }

    .error-message {
      padding: 1rem;
      background: rgba(239, 68, 68, 0.15);
      border: 1px solid rgba(239, 68, 68, 0.5);
      border-radius: 8px;
      color: #fca5a5;
      font-size: 0.9rem;
      margin: 1rem 0;
      display: none;
    }

    .error-message.visible {
      display: block;
    }

    .info-text {
      font-size: 0.8rem;
      color: #94a3b8;
      text-align: center;
      margin: 1.5rem 0 0;
    }

    .success-message {
      padding: 1rem;
      background: rgba(16, 185, 129, 0.15);
      border: 1px solid rgba(16, 185, 129, 0.5);
      border-radius: 8px;
      color: #a7f3d0;
      font-size: 0.9rem;
      margin: 1rem 0;
      display: none;
    }

    .success-message.visible {
      display: block;
    }

    @media (max-width: 480px) {
      .landing-container {
        padding: 1rem;
      }

      .landing-card {
        padding: 1.5rem;
      }

      .landing-title {
        font-size: 1.5rem;
      }

      .turnstile-container {
        transform: scale(0.9);
        transform-origin: center;
      }
    }
  </style>
</head>
<body>
  <div class="landing-container">
    <div class="landing-card">
      <!-- Hidden site key for turnstile.js to read without displaying it. -->
      <code id="turnstile-sitekey" style="display: none">{{TURNSTILE_SITE_KEY}}</code>
      <div class="landing-header">
        <img class="landing-logo" src="{{SITE_ICON}}" alt="{{SITE_TITLE}}" />
        <h1 class="landing-title">{{SITE_TITLE}}</h1>
        <p class="landing-subtitle">{{SITE_DESCRIPTION}}</p>
      </div>

      <div class="error-message" id="error-message"></div>
      <div class="success-message" id="success-message">Verification successful! Redirecting...</div>

      <div class="turnstile-container" id="turnstile-container">
        <div class="loading-state">
          <div class="loading-spinner"></div>
          <div class="loading-text">Loading verification widget...</div>
        </div>
      </div>

      <div class="verification-steps" id="verification-steps">
        <div class="step">
          <span class="step-status" id="step-1-status">1</span>
          <span id="step-1-text">Initializing...</span>
        </div>
        <div class="step">
          <span class="step-status" id="step-2-status">2</span>
          <span id="step-2-text">Waiting for widget...</span>
        </div>
        <div class="step">
          <span class="step-status" id="step-3-status">3</span>
          <span id="step-3-text">Waiting for verification...</span>
        </div>
        <div class="step">
          <span class="step-status" id="step-4-status">4</span>
          <span id="step-4-text">Submitting token...</span>
        </div>
      </div>

      <p class="info-text">
        This site is protected by Cloudflare Turnstile.
      </p>
    </div>
  </div>

  <script
    src="https://challenges.cloudflare.com/turnstile/v0/api.js"
    async
    defer
  ></script>
  <script src="/static/turnstile.js?v={{ASSET_VERSION}}"></script>
</body>
</html>
